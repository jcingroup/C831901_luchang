(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["login"],{

/***/ "./Scripts/src/app.jsx":
/*!*****************************!*\
  !*** ./Scripts/src/app.jsx ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _httpunity = __webpack_require__(/*! ./httpunity */ \"./Scripts/src/httpunity.js\");\n\nvar _reactjsCaptcha = __webpack_require__(/*! reactjs-captcha */ \"./node_modules/reactjs-captcha/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import axios from 'axios'\nvar LoginFormInput = function (_React$Component) {\n  _inherits(LoginFormInput, _React$Component);\n\n  function LoginFormInput(prop) {\n    var _this;\n\n    _classCallCheck(this, LoginFormInput);\n\n    _this = _possibleConstructorReturn(this, (LoginFormInput.__proto__ || Object.getPrototypeOf(LoginFormInput)).call(this, prop));\n    _this.state = {\n      id: '',\n      pwd: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginFormInput, [{\n    key: \"postForm\",\n    value: function postForm(props) {\n      this.props.postForm(props);\n    }\n  }, {\n    key: \"captchaOnSubmitHandler\",\n    value: function captchaOnSubmitHandler(e, state) {\n      var validEmpty = !!(state.id && state.pwd);\n\n      if (!validEmpty) {\n        alert(\"請輸入帳號或密碼\");\n        return;\n      } // the user-entered captcha code value to be validated at the backend side \n\n\n      var userEnteredCaptchaCode = this.captcha.getUserEnteredCaptchaCode();\n\n      if (userEnteredCaptchaCode == \"\" || userEnteredCaptchaCode.toString().trim() == \"\") {\n        alert(\"請輸入驗證碼\");\n        return;\n      } // the id of a captcha instance that the user tried to solve \n\n\n      var captchaId = this.captcha.getCaptchaId();\n      var postData = Object.assign({}, state, {\n        userEnteredCaptchaCode: userEnteredCaptchaCode,\n        captchaId: captchaId\n      });\n      var self = this;\n      var htp = new _httpunity.HttpProcess();\n      var promise = htp.fetchSendPost(htp.getApisPath().LOGIN, postData);\n      promise.then(function (jsonData) {\n        console.log(jsonData);\n\n        if (jsonData.success) {\n          if (jsonData.url != '') {\n            window.location.href = jsonData.url;\n          } else {\n            window.location.reload();\n          }\n        } else {\n          alert(jsonData.msg);\n          self.captcha.reloadImage();\n        }\n      }).catch(function (err) {\n        console.log('錯誤:', err);\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"onInputChange\",\n    value: function onInputChange(e) {\n      var type = e.target.type;\n      var val = e.target.value;\n      var objProp = null;\n\n      switch (type) {\n        case \"text\":\n          this.setState({\n            id: val\n          });\n          /*\r\n          Object.assign({}, this.state, {\r\n          id: val\r\n          });\r\n          */\n\n          break;\n\n        case \"password\":\n          this.setState({\n            pwd: val\n          });\n          /*\r\n          Object.assign({}, this.state.lid, {\r\n          pwd: val\r\n          });\r\n          */\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var state = this.state;\n      var pId = state.id;\n      var pPw = state.pwd;\n      return _react2.default.createElement(\"div\", null, _react2.default.createElement(\"h2\", {\n        className: \"title text-left text-primary\"\n      }, \"System Login\"), _react2.default.createElement(\"main\", {\n        className: \"text-left\"\n      }, _react2.default.createElement(\"label\", {\n        className: \"label\"\n      }, \"\\u5E33\\u865F Username\"), _react2.default.createElement(\"input\", {\n        className: \"form-element\",\n        name: \"id\",\n        type: \"text\",\n        required: true,\n        value: pId,\n        onChange: function onChange(e) {\n          return _this2.onInputChange(e);\n        }\n      }), _react2.default.createElement(\"label\", {\n        className: \"label\"\n      }, \"\\u5BC6\\u78BC Password\"), _react2.default.createElement(\"input\", {\n        className: \"form-element\",\n        name: \"pwd\",\n        type: \"password\",\n        required: true,\n        value: pPw,\n        onChange: function onChange(e) {\n          return _this2.onInputChange(e);\n        }\n      }), _react2.default.createElement(Captcha, {\n        captchaStyleName: \"AncientMosaic\",\n        ref: function ref(captcha) {\n          _this2.captcha = captcha;\n        }\n      }), _react2.default.createElement(\"label\", {\n        className: \"label\"\n      }, \"\\u9A57\\u8B49\\u78BC Code\"), _react2.default.createElement(\"input\", {\n        className: \"form-element\",\n        id: \"ca\",\n        type: \"text\",\n        required: true\n      })), _react2.default.createElement(\"footer\", {\n        className: \"action-bar\",\n        id: \"footer\"\n      }, _react2.default.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn\",\n        onClick: function onClick(e) {\n          return _this2.captchaOnSubmitHandler(e, state);\n        }\n      }, \"\\u767B\\u5165 LOGIN\")));\n    }\n  }]);\n\n  return LoginFormInput;\n}(_react2.default.Component);\n\nvar LogoinForm = function (_Component) {\n  _inherits(LogoinForm, _Component);\n\n  function LogoinForm() {\n    var _this3;\n\n    _classCallCheck(this, LogoinForm);\n\n    _this3 = _possibleConstructorReturn(this, (LogoinForm.__proto__ || Object.getPrototypeOf(LogoinForm)).call(this));\n    var valid = {\n      id: '',\n      pwd: ''\n    };\n    _this3.state = {\n      valid: valid\n    };\n    return _this3;\n  }\n\n  _createClass(LogoinForm, [{\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\"div\", null, _react2.default.createElement(LoginFormInput, {\n        valid: this.state.valid\n      }));\n    }\n  }]);\n\n  return LogoinForm;\n}(_react.Component);\n\n_reactjsCaptcha.captchaSettings.set({\n  captchaEndpoint: '/simple-captcha-endpoint.ashx'\n});\n\n_reactDom2.default.render(_react2.default.createElement(LogoinForm, null), document.getElementById('root'));\n\n//# sourceURL=webpack:///./Scripts/src/app.jsx?");

/***/ }),

/***/ "./Scripts/src/httpunity.js":
/*!**********************************!*\
  !*** ./Scripts/src/httpunity.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HttpProcess = exports.HttpProcess = function () {\n  function HttpProcess() {\n    _classCallCheck(this, HttpProcess);\n\n    this.API_PATH = {\n      LOGIN: \"/_SysAdm/Login\",\n      GET_LIST: \"/api/manage/getlist\",\n      GET_DATA: \"/api/manage/getdata\",\n      SAVE_DATA: \"/api/manage/savedata\",\n      REMOVE_DATA: \"/api/manage/removedata\"\n    };\n  }\n\n  _createClass(HttpProcess, [{\n    key: \"getApisPath\",\n    value: function getApisPath() {\n      return this.API_PATH;\n    }\n  }, {\n    key: \"fetchSendGet\",\n    value: function fetchSendGet(url, data) {\n      var setting = {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n          'pragma': 'no-cache',\n          'cache-control': 'no-cache'\n        }\n      };\n      console.log(setting);\n      return fetch(url, setting).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (jsonData) {\n        console.log(jsonData);\n      }).catch(function (err) {\n        console.log('錯誤:', err);\n      });\n    }\n  }, {\n    key: \"fetchSendPost\",\n    value: function fetchSendPost(url, data) {\n      var setting = {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'pragma': 'no-cache',\n          'cache-control': 'no-cache'\n        },\n        body: JSON.stringify(data)\n      };\n      return fetch(url, setting).then(function (response) {\n        //console.log(response);\n        return response.json();\n      });\n    }\n  }]);\n\n  return HttpProcess;\n}();\n\n//# sourceURL=webpack:///./Scripts/src/httpunity.js?");

/***/ })

},[["./Scripts/src/app.jsx","manifest","vendors"]]]);